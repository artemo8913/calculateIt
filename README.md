# CalculateIt - –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ–º–æ—â–Ω–∏–∫ –≤ Telegram

**CalculateIt** - —ç—Ç–æ Telegram –±–æ—Ç —Å –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π Mini App (TMA)^[–Ω–∞ —ç—Ç–∞–ø–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏], —Å–æ–∑–¥–∞–Ω–Ω—ã–π –¥–ª—è –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ —Ä–∞–±–æ—Ç—ã —Å —Ç—Ä–µ–≤–æ–∂–Ω—ã–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏. –ü—Ä–æ–µ–∫—Ç –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å, –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏–º–∏ –º—ã—Å–ª—è–º–∏ –∏ –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏—è–º–∏ —á–µ—Ä–µ–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏.

## üß† –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –ø–æ–º–æ—â–∏ –≤ –æ—Å–æ–∑–Ω–∞–Ω–∏–∏ –∏ —Ä–∞–±–æ—Ç–µ —Å —Ç—Ä–µ–≤–æ–∂–Ω—ã–º–∏ –º—ã—Å–ª—è–º–∏ —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:

- **üìù –§–∏–∫—Å–∞—Ü–∏—è —Ç—Ä–µ–≤–æ–≥** - –∑–∞–ø–∏—Å—å —Ç—Ä–µ–≤–æ–∂–Ω—ã—Ö –º—ã—Å–ª–µ–π
- **üí≠ –ê–Ω–∞–ª–∏–∑ –º—ã—Å–ª–µ–π** - –ø–µ—Ä–µ—Å–º–æ—Ç—Ä –º—ã—Å–ª–µ–π –≤ —Å–ø–æ–∫–æ–π–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏
- **üôè –ü—Ä–∞–∫—Ç–∏–∫–∞ –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏** - —Ñ–∏–∫—Å–∞—Ü–∏—è –ø–æ–∑–∏—Ç–∏–≤–Ω—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤
- **üìä –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π –≤ Excel –¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞


## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **–§—Ä–æ–Ω—Ç–µ–Ω–¥**: Next.js 15.3 —Å App Router, React 18, TypeScript
- **Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: Grammy —Ñ—Ä–µ–π–º–≤–æ—Ä–∫, Telegram Mini Apps SDK
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL + Drizzle ORM
- **–•–æ—Å—Ç–∏–Ω–≥**: Vercel (TMA + API routes)

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Node.js 18+
- –ê–∫–∫–∞—É–Ω—Ç Telegram —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ [BotFather](https://t.me/botfather)
- [Vercel](https://vercel.com) –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è —Ö–æ—Å—Ç–∏–Ω–≥–∞ –±–æ—Ç–∞ —Å github —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- [Supabase](https://supabase.com) –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç –∏–∑ supabase)

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
```bash
git clone https://github.com/artemo8913/calculateIt.git
cd calculateIt
npm ci
```

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**
–°–æ–∑–¥–∞–π—Ç–µ `.env.local` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:

```env
# File must name .env.local

# Next.js
VERCEL = "1"
NEXTAUTH_URL = "https://your-app.vercel.app"
NEXTAUTH_SECRET = "your_nextauth_secret"

# Telegram
TELEGRAM_BOT_TOKEN = "your_main_bot_token_from_bot_father"
TELEGRAM_DEV_BOT_TOKEN = "your_dev_bot_token_from_bot_father"
TELEGRAM_DEV_WEBHOOK_URL = "https://api.telegram.org/bot{telegram_bot_token}/setWebhook?url={vercel_url}/api/bot"

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DATABASE_URL = "db_connection_string_from_supabase"
```

3. **–ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**
```bash
# –ó–∞–ø—É—Å–∫ Next.js –Ω–∞ localhost —Å HTTPS (–¥–ª—è TMA) –∏ –±–æ—Ç–∞ —Å long polling
npm run dev
```
–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç [nextjs-template](https://github.com/Telegram-Mini-Apps/nextjs-template) —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã—Ö SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ TMA.

–ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ —Ä–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –±–æ—Ç–∞ –∏ TMA:
- **–ë–æ—Ç**: long polling —á–µ—Ä–µ–∑ `npm run dev:bot`
- **TMA**: HTTPS-—Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ `npm run dev:https`

### –ü—Ä–æ–¥–∞–∫—à–µ–Ω-—Ä–µ–∂–∏–º

–ë–æ—Ç –≤ prod —Ä–µ–∂–∏–º–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø–æ–º–æ—â—å—é API routes ([—Å—Ç–∞—Ç—å—è](https://www.launchfa.st/blog/telegram-nextjs-app-router))

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —ç—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è

### –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è —Å –¥–∞–Ω–Ω—ã–º–∏
–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Supabase **–±–µ–∑ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è**. –ö–∞–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, —è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –∏–º–µ—é –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —á—Ç–æ —Å–æ–∑–¥–∞–µ—Ç —ç—Ç–∏—á–µ—Å–∫—É—é –¥–∏–ª–µ–º–º—É –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ —Å –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π. –ü–æ—ç—Ç–æ–º—É —Ä–µ–∫–æ–º–µ–Ω–¥—É—é —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç —Å–æ —Å–≤–æ–µ–π –ë–î.

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Vercel
1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–æ—Ä–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∫ Vercel
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –ø–∞–Ω–µ–ª–∏ Vercel
4. –î–µ–ø–ª–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –ø—Ä–∏ –ø—É—à–µ –≤ main^[https://vercel.com/docs/git]

